<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="https://github.com/ritchiejc/typing_game/blob/master/client/" xml:lang="fr">
	<head>
		<title>gameQuery - Tutorial 1 - Final result</title>
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script>
		<script type="text/javascript" src="http://cdn.gamequeryjs.com/jquery.gamequery.js"></script>
		<script src="TileEngine.js"></script>
		<script src="TileMap.js"></script>
		<script src="TileMapLayer.js"></script>
		<script src="TileSet.js"></script>
		<script type="text/plain" src="layers.json"></script>
		<style type="text/css">
			html,body{
				margin: 0;
				padding: 0;
				background: black;
			}
		</style>
	</head>
	<body>

	<div id="playground" style="width: 320px; height: 320px; background: black; padding: 20">
    <div id="welcomeScreen" style="width: 320px; height: 320px; position: absolute;">
        <div style="position: absolute; top: 120px; width: 320px; color: white; margin:0 auto;">
            <center><a style="cursor: pointer;" id="startbutton">click here to show the demo</a></center>
        </div>
    </div>	
		<script>
		
			// Initialize the game:
    		$("#playground").playground({
        		height: 480, 
        		width: 320, 
        		keyTracker: true});

        	//var a = new $.gameQuery.Animation({ imageURL: "testtiles.png"});
			$.playground().addGroup("mapgroup", {width: 640, height: 640, posx: 0, posy: 0})
				//.scale(2)
				.addGroup("mapbackground", {width: 640, height: 640, posx: 0, posy: 0}).end()
				.addGroup("maptiles", {width: 640, height: 640, posx: 0, posy: 0}).end()

				.addGroup("mapobjects", {width: 640, height: 640, posx: 0, posy: 0}).end();
			//$.playground().addSprite("tester", a);

   	 	$("#startbutton").click(function(){
       	 $.playground().startGame(function(){
            $("#welcomeScreen").fadeTo(1000,0,function(){$(this).remove();});
            var m = new TileMap();
            
				m.loadMap(eval("(" + m.masktest + ")"));
				m.draw();	


        	});
    		});			
			
		</script>
	</div>
	</body>
</html>
